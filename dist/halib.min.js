//   Halib.js 1.0.0
//   http://github.com/halibjs/halib
//   (c) 2018 Mátyás Kiss
//   Halib may be freely distributed under the MIT licence
const B=a=>typeof a==='string',AX=a=>typeof a==='number',V=a=>a&&a.constructor===Array,Q=a=>K(a,0,A(a),B(a)),R=a=>B(a)?'':[],AG=a=>a.split(''),C=a=>a.join(''),A=a=>a.length,S=a=>A(a)===0,L=(a,b)=>B(a)&&B(b),DV=(a,b)=>V(a)&&V(b)||L(a,b),W=(a,b)=>a.concat(b),AH=a=>(b,c)=>F(a(b),a(c)),AI=(a,b)=>a<b?-1:a>b?1:0,DW=(a,b)=>a<b?1:a>b?-1:0,J=(a,b)=>a>b,X=a=>(b,c)=>a(b)>a(c),AJ=(a,b)=>a<b,AY=a=>(b,c)=>a(b)<a(c),AZ=a=>(b,c)=>a(b,c)>0,DX=a=>(b,c)=>a(b,c)<0,DY=(a,b)=>a>=b,DZ=(a,b,c,d)=>a(b,d),BA=a=>[a],EA=(a,b,c)=>a(b,c),E={},EB=(c,d)=>B(c)&&(d===null||B(d)),D=a=>a,BZ=(a,b,c)=>T(a,b,c,B(a)),CA=(a,b)=>a[b],BB=Object.prototype.toString,Y=a=>B(a)&&!!A(a),K=(a,b,c,d)=>{const e=Array(c);while(b<c){e[b]=a[b];b++;}return d?C(e):e;},T=(a,b,c,d)=>{let e=A(a);b=AL(b,e);c=c<0?c+e:c>e?e:c;e=b>c?0:c-b;const f=Array(e);let g=0;while(g<e){f[g]=a[g+b];g++;};return d?C(f):f;},M=(a,b,c,d,e)=>{e=AX(e)?e:A(a);while(c<d)a[e++]=b[c++];return e;},EC=(a,b)=>{const c=A(b);let d=0;while(d<c){a(b[d],d);d++;}return b;},BC=(a,b)=>{const c=A(b),d=Array(c);let e=0;while(e<c){d[e]=a(b[e],e);e++;}return d;},BD=(a,b,c)=>{const d=A(a),e=Array(c);let f=0,g=0,h=d,i;while(f<d){i=b(a[f],f);if(h)h=B(i);g=M(e,i,0,A(i),g);f++;}return h?C(e):e;},ED=(a,b,c,d)=>{const e=A(a);let f;if(e!==A(b))return!1;for(f=0;f<e;f++){if(!F(a[f],b[f],c,d))return!1;}c.pop();d.pop();return!0;},EE=(a,b,c,d)=>{const e=keys(a),f=keys(b),g=A(e);let h,i;if(g!==A(f)||A(deleteAll(e)(f)))return!1;for(h=0;h<g;h++){i=e[h];if(!F(a[i],b[i],c,d))return!1;}c.pop();d.pop();return!0;},Z=a=>a==null||typeof a!=='object',F=(a,b,c,d)=>a===b||(Z(a)||Z(b)?a!==a&&b!==b:EF(a,b,c,d)),EF=(a,b,c,d)=>{const e=BB.call(a);if(e!==BB.call(b))return!1;if(e==='[object Date]')return a.valueOf()===b.valueOf();c=c||[];d=d||[];let f=A(c);while(f--)if(c[f]===a)return d[f]===b;c.push(a);d.push(b);return(e==='[object Array]'?ED:EE)(a,b,c,d);},BE=(a,b,c,d)=>{let e=0;while(e<c&&F(a[e],b[e+d]))e++;return e===c;},CB=(a,b,c,d)=>c===0||c>A(b)?!1:BE(a,b,c,d),AK=(a,b)=>{const c=A(a);if(!c)return-1;const d=A(b)-c+1;let e=0;while(e<d){if(BE(a,b,c,e))return e;e++;}return-1;},EG=(a,b,c,d)=>(a[A(a)]=d,a),BF=(a,b,c,d,e)=>{M(a,b,c,d);if(e)M(a,e,0,A(e));return a;},AA=(a,b,c,d,e)=>{const f=A(a),g=A(b),h=A(b)-f+1,i=e!==E;let j=0,k=0;if(f){while(j<h){if(BE(a,b,f,j)){c=d(c,b,k,j,e);k=j=j+f;}else j++;}}if(i)d(c,b,k,g);return i&&B(b)?C(c):c;},EH=(a,b,c,d,e)=>(a[e++]=b,e),AL=(a,b)=>a<0?a<-b?0:a+b:a,P=(a,b,c,d,e,f=DY)=>{const g=A(c);a=AL(a,g);if(f(a,A(c)))return Q(c);if(b<0)b=0;const h=e===E,i=a+b,j=h?0:d?A(e):1,k=Array(a+j+(g-i)),l=d?M:EH;let m=0;m=M(k,c,0,a,m);m=h?m:l(k,e,0,j,m);M(k,c,i,g,m);return B(c)?C(k):k;},AM=(a,b,c,d,e)=>a===-1?Q(c):P(a,b,c,d,e),CC=(a,b,c)=>{if(L(a,b))return AA(a,b,[],BF,c===E?undefined:c);const d=[],e=A(b);let f=0,g=0;while(f<e){if(F(a,b[f])){if(c!==E)d[g++]=c;}else d[g++]=b[f];f++;}return B(b)?C(d):d;},CD=(a,b,c,d,e)=>{const f=Array(b);while(e<b){f[e++]=a;a+=c;}return d?String.fromCharCode.apply(null,f):f;},CE=(a,b,c,d)=>{let e,f,g=b+1;for(;g<=c;g++){e=a[g];for(f=g-1;f>=b&&d(a[f],e);f--)a[f+1]=a[f];a[f+1]=e;}return a;},BG=(a,b,c)=>{const d=A(a),e=A(b),f=Array(d+e);let g=0,h=0,i=0;while(h<d&&i<e){f[g++]=c(a[h],b[i])?b[i++]:a[h++];}while(h<d)f[g++]=a[h++];while(i<e)f[g++]=b[i++];return f;},CF=(a,b)=>{const c=B(a),d=A(a),e=g=>{const h=A(g);if(h<30)return CE(g,0,h-1,b);const i=h>>>1;return BG(e(K(g,0,i)),e(T(g,i,h)),b);},f=e(d<30?c?AG(a):K(a,0,d):a);return c?C(f):f;},AN=(a,b,c)=>{const d=a[b];a[b]=a[c];a[c]=d;},EI=(a,b,c,d)=>{const e=b+c>>>1,f=d(a[b],a[e])?b:e;if(d(a[f],a[c]))AN(a,f,c);if(d(a[b],a[e]))AN(a,b,e);return a[e];},CG=(a,b,c,d)=>{const e=EI(a,b,c,d);while(!0){while(d(e,a[++b]));while(d(a[--c],e));if(b<c)AN(a,b,c);else return c;}},CH=(a,b)=>{const c=K(a,0,A(a)),d=[];let e=0,f=A(a)-1,g=0,h;d[e++]=g;d[e++]=f;while(e>0){f=d[--e];g=d[--e];while(f>g){if(f-g<30){CE(c,g,f,b);f=g;}else{h=CG(c,g,f,b);d[e++]=h+1;d[e++]=f;f=h;}}}return B(a)?C(c):c;},CI=(a,b,c)=>{const d=A(b),e=Array(d+1);let f=0,g=0;while(g<d&&f===g){e[f++]=c(a,b[g])?b[g++]:a;}if(f===g){e[f]=a;return e;}while(g<d)e[f++]=b[g++];return e;},H=(a,b,c)=>{const d=A(b);let e=0;while(e<d){if(c(a,b[e]))return!0;e++;}return!1;},EJ=(a,b,c)=>{const d=A(b);let e=0;while(e<d){if(c(a,b[e][0]))return e;e++;}return-1;},BH=(a,b,c)=>{const d=A(a);let e=0;while(e<d){if(!H(a[e],b,c))b.push(a[e]);e++;}return b;},EK=(a,b)=>{const c=A(a),d=[];let e=0;while(e<c){if(!H(a[e],d,b))d.push(a[e]);else return!1;e++;}return!0;},EL=(a,b,c)=>a[A(a)]=[c],EM=(a,b,c)=>a[b][A(a[b])]=c,CJ=(a,b,c)=>a[A(a)]=[c,1],CK=(a,b,c)=>a[b][1]++,BI=(a,b,c,d,e)=>{const f=A(a),g=[];let h=0,i,j;while(h<f){j=a[h];i=EJ(j,g,d);if(i!==-1)c(g,i,j);else b(g,0,j);h++;}return e&&B(a)?map(C)(g):g;},EN=(a,b,c)=>{const d=A(b);let e=0;while(e<d){if(c(a,b[e][0])){if(b[e][1]>0){b[e][1]--;return!1;}return!0;}e++;}return!0;},EO=(a,b,c)=>{const d=A(a),e=[];let f=0;b=BI(b,CJ,CK,c);while(f<d){if(EN(a[f],b,c))e.push(a[f]);f++;}return B(a)?C(e):e;},EP=(a,b,c,d)=>!H(a,b,c)?d.push(a):0,EQ=(a,b,c,d)=>H(a,b,c)?d.push(a):0,ER=(a,b,c,d)=>!H(a,b,c)&&!H(a,d,c)?d.push(a):0,ES=(a,b,c,d)=>H(a,b,c)&&!H(a,d,c)?d.push(a):0,AO=(a,b,c,d)=>{const e=A(a),f=[];let g=0;while(g<e){c(a[g],b,d,f);g++;}return B(a)?C(f):f;},ET=(a,b,c,d=BH(b,BH(a,[],c),c))=>B(a)?C(d):d,EU=(a,b,c=BH(a,[],b))=>B(a)?C(c):c,EV=(a,b,c)=>{const d=A(a);if(!d)return b;let e=0,f;f=c(b,a[e++]);while(e<d){f=f===a[e]?f:c(b,a[e]);e++;}return b;},CL=(a,b,c,d,e,f)=>{for(;a<b;a++)f=c(e,d[a],f);return f;},BJ=(a,b,c,d,e,f,g,h,i,j)=>{const k=A(a),l=A(b);let m=0,n=0,o=E,p,q,r;while(m<k&&n<l){p=a[m];q=b[n];r=c(p,q);if(r===0){m++;o=d(h,p,o);n=g(n);}else if(r<0){m++;o=e(h,p,o);}else{n++;o=f(h,q,o);}}if(i)o=CL(m,k,e,a,h,o);if(j)CL(n,l,f,b,h,o);},BK=()=>{},BL=(a,b,c)=>c,AP=(a,b)=>a[A(a)]=b,AB=(a,b,c)=>b!==c?AP(a,b):b,AC=a=>a+1,BM=(a,b,c,d)=>{const e=[];BJ(a,b,AI,d?BK:AP,d?AP:BK,BK,c,e,d,!1);return B(a)?C(e):e;},CM=(a,b,c,d)=>{const e=[];BJ(a,b,AI,d?BL:AB,d?AB:BL,BL,c,e,d,!1);return B(a)?C(e):e;},EW=(a,b)=>{const c=[];BJ(a,b,AI,AB,AB,AB,AC,c,!0,!0);return B(a)?C(c):c;},CN=(a,b,c,d,e)=>{const f=Array(c+1),g=d>0?0:1,h=c+g;let i=Q(a);while(b>=g&&b<h){f[b]=i;i=e(i);b+=d;}f[b]=i;return f;},BN=(a,b)=>{const c=A(a);let d=0;while(d<c){if(F(a[d],b))return d;d++;}return-1;},EX=(a,b,c)=>{let d=A(b);while(d--){if(a(b[d],c))return d;}return-1;},CO=(a,b,c)=>{const d=A(b);let e=0;while(e<d){if(a(b[e],e))return c?e:b[e];e++;}return c?-1:c;},CP=(a,b,c)=>{let d=A(b);while(d--){if(a(b[d],d))return c?d:b[d];}return c?-1:c;},CQ=(a,b,c,d,f)=>{const g=A(d);let h=0;while(h<g){if(a(b,d[h],h,f))c.push(h);h++;}return c;},AQ=(a,b,c,d)=>{const e=A(a),f=[];let g=0,h=0,j;while(h<e){j=h+1;while(j<e&&b(a[h],a[j]))j++;f[g++]=c(a,h,j);h=j;}return d&&B(a)?C(f):f;},BO=a=>1,CR=(a,b)=>a[1]++,EY=(a,b)=>a[1].push(b),CS=(a,b)=>a.push(b),BP=(a,b,c,d,e)=>{const f={},g=Object.create(null),h=[],i=A(a);let j=0,k,l,m,n;while(j<i){k=a[j];l=e(k);m=B(l)?g:f;n=m[l];if(n===undefined)h[m[l]=A(h)]=b?[l,c(k)]:c(k);else d(h[n],k);j++;}return h;},CT=(a,b)=>(a.push(b),a),CU=(a,b,c,d,e)=>{const f={},g=A(a);let h=0,i,j;while(h<g){i=a[h];j=d(i);f[j]=f[j]?c(f[j],i):b(i);h++;}return e&&B(a)?DR(C,f):f;},N=(a,b)=>{a[b]=!0;},I=(a,b,c,d)=>{if(!a[b]){a[b]=!0;c.push(d);}},CV=(a,b,c,d)=>{if(!a[b])c.push(d);},CW=(a,b,c,d)=>{if(a[b])c.push(d);},CX=(a,b)=>{if(a[b])a[b]++;else a[b]=1;},CY=(a,b,c,d)=>{if(a[b])a[b]--;else c.push(d);},CZ=(a,b,c,d)=>{if(a[b]){a[b]=!1;c.push(d);}},DA=(a,b,c,d,e,f)=>{const g=b?A(b):0;let h=0,i;while(h<g){i=f(b[h]);a(B(i)?d:c,i,e,b[h]);h++;}},G=(a,b,c,d,e)=>{const f={},g=Object.create(null),h=[];DA(a,d,f,g,h,e);DA(b,c,f,g,h,e);return(a===b?EB(d,c):B(c))?C(h):h;},AR=(a,b)=>[a,b],BQ=(a,b,c,d)=>{const e=A(c),f=A(d),g=Array(e*f),h=b&&L(c,d)?(l,m,n,o)=>C(a(l,m,n,o)):a;let i=0,j=0,k;while(j<e){k=0;while(k<f){g[i++]=h(c[j],d[k],j,k);k++;}j++;}return g;},DB=(a,b,c,d,e)=>{const f=d?C:D;let g=0,h=0,i;while(h<b){i=h+e;while(i<b){a[g++]=f([c[h],c[i]]);i++;}h++;}return a;},BR=(a,b,c,d)=>{const e=Math.min(A(c),A(d)),f=Array(e),g=b&&L(c,d)?(i,j,k)=>C(a(i,j,k)):a;let h=0;while(h<e){f[h]=g(c[h],d[h],h);h++;}return f;},AS=(a,b,c)=>{const d=A(a),e=d>0?c(a):0,f=AE(B,a)?(i,j,k,l,m)=>C(b(i,j,k,l,m)):b,g=Array(e);let h;for(h=0;h<e;h++){g[h]=f(a,h,d,0,e);}return g;},EZ=(a,b)=>[a[0][b],a[1][b],a[2][b]],FA=(a,b,c,d)=>{const e=Array(c);for(;d<c;d++)e[d]=a[d][b];return e;},FB=(a,b,c,d)=>{const e=Array(c),f=c-1;for(;d<c;d++)e[d]=a[f-d][b];return e;},FC=(a,b,c,d,e)=>{const f=Array(c),g=e-1;for(;d<c;d++)f[d]=a[d][g-b];return f;},FD=(a,b,c,d)=>{const e=[];for(;d<c;d++){if(A(a[d])>b)e.push(a[d][b]);}return e;},DC=(a,b)=>{const c=A(a),d={},e=Object.create(null);let f=0,g,h;while(f<c){g=b(a[f]);h=B(g)?e:d;if(h[g])return!1;else h[g]=!0;f++;}return!0;},BS=(a,b,c)=>{const d=A(c);let e=0;while(e<d&&b(c[e],e))e++;return a(e)(c);},BT=(a,b,c)=>{let d=A(c);while(d--&&b(c[d],d));return a(d+1)(c);},O=(a,b,c)=>{const d=A(c);let e=-1;if(b===E)b=c[++e];while(++e<d)b=a(b,c[e],e);return b;},AT=(a,b,c)=>{let d=A(c);if(b===E)b=c[--d];while(d-->0)b=a(c[d],b,d);return b;},DD=(a,b,c)=>{const d=b===E?0:1,e=Array(A(c)+d);if(A(e))e[0]=d?b:c[0];O((f,g,h)=>e[h+d]=a(f,g,h),b,c);return e;},DE=(a,b,c)=>{const d=b===E?0:1,e=Array(A(c)+d);if(A(e))e[A(e)-1]=d?b:c[A(c)-1];AT((f,g,h)=>e[h]=a(f,g,h),b,c);return e;},BU=(a,b,c)=>{let d=-1;while(++d<a)c=b(c,d);return c;},DF=(a,b,c)=>{let d;while(a(c)){d=c;c=b(c);}return d;},DG=(a,b,c)=>{while(!a(c))c=b(c);return c;},FE=(a,b,c)=>{const d=Array(a+1);BU(a,(e,f)=>d[f+1]=b(e,f),d[0]=c);return d;},FF=(a,b,c)=>{const d=[];DF(a,e=>(d.push(e),b(e)),c);return d;},FG=(a,b,c)=>{const d=[c];DG(a,e=>d[A(d)]=b(e),c);return d;},FH=(a,b,c)=>(AX(a)?BU:DF)(a,b,c),FI=(a,b,c)=>(AX(a)?FE:FF)(a,b,c),FJ=(a,b)=>{let c=A(a);while(c--)b=a[c](b);return b;},FK=(a,b)=>{const c=A(a);let d=0;while(d<c)b=a[d++](b);return b;},DH=(a,b,c)=>{const d=A(a),e=d-1,f=Array(d);let g=0;while(g<d){f[e-g]=b[a[g]];g++;}return c?C(f):f;},FL=(a,b,c,d)=>{const e=Array(c);let f=0;while(f<c){e[f]=b[a[f]];f++;}return d?C(e):e;},FM=(a,b,c,d)=>{const e=Array(c);let f=0;for(;f<c;f++){e[f]=a[f][b[f]];}return d?C(e):e;},FN=(a,b)=>{const c=A(a)-1,d=a[b];while(b<c){a[b]=a[b+1];b++;}a[c]=d;},FO=(a,b,c)=>{const d=A(c);let e=0,f=0;while(f<d){e=e+(b(a,c[f])?1:0);f++;}return e;},FP=(a,b)=>DV(a,b)?W(a,b):B(a)?W(AG(a),b):W(a,AG(b)),FQ=(a,b)=>W(B(b)?String(a):[a],b),FR=(a,b)=>W(a,B(a)?b:[b]),FS=(a,b)=>{if(S(b))return Q(b);const c=A(b),d=Array(c);let e=0;a=a%c;a=a<0?c+a:a;e=M(d,b,c-a,c,e);M(d,b,0,c-a,e);return B(b)?C(d):d;},FT=(a,b)=>{const c=A(b);if(c<2)return Q(b);const d=c-1,e=Array(c+d);let f=0,g;for(g=0;g<d;g++){e[f++]=b[g];e[f++]=a;}e[f]=b[g];return B(b)?C(e):e;},BV=(a,b)=>BU(a>b-a?b-a:a,(c,d)=>c*(b-d)/(d+1),1),DI=a=>{let b=1;while(a>1)b=b*a--;return b;},FU=(a,b)=>{const c=A(b),d=B(b);if(a>c||a<=0)return[d?'':[]];const e=Array(BV(a,c));if(a===2)return DB(e,c,b,d,1);const f=c-1,g=range(a-1,0);let h=0,i;while(!0){e[h++]=DH(g,b,d);for(i=0;g[i]>=f-i;)if(++i>=a)return e;for(g[i]++;i;i--)g[i-1]=g[i]+1;}},AD=(a,b,c=D)=>{const d=Array(a);let e=0;while(e<a)d[e++]=c(b);return d;},FV=(a,b)=>{const c=A(b),d=B(b);if(a<=0)return[d?'':[]];const e=Array(BV(a,c+a-1));if(a===2)return DB(e,c,b,d,0);const f=c-1,g=AD(a,0);let h=0,i;while(!0){e[h++]=DH(g,b,d);for(i=0;g[i]>=f;)if(++i>=a)return e;for(g[i]++;i;i--)g[i-1]=g[i];}},DJ=(a,b=A(a))=>{const c=A(a),d=B(a);if(b>c||b<=0)return[d?'':[]];const e=Array(BV(b,c)*DI(b)),f=from(0,c),g=range(c,c-b+1);let h=0,j;loop1:while(!0){e[h++]=FL(f,a,b,d);for(j=b-1;j>=0;j--){if(--g[j]){AN(f,j,c-g[j]);continue loop1;}FN(f,j);g[j]=c-j;}return e;}},AU=(a,b)=>{const c=A(b);let d=0;while(d<c){if(a(b[d],d))return!0;d++;}return!1;},AE=(a,b)=>{const c=A(b);let d=0;while(d<c){if(!a(b[d],d))return!1;d++;}return!0;},FW=(a,b)=>{if(S(b))return R(b);const c=A(b),d=Array(a);let e=0,f=0;while(f<a){d[f++]=b[e++];if(e===c)e=0;}return B(b)?C(d):d;},FX=(a,b)=>{const c=A(b),d=[];let e=0,f=0;while(e<c){if(a(b[e],e))d[f++]=b[e];e++;}return B(b)?C(d):d;},FY=(a,b)=>{const c=A(b),d=[];let e=0,f=0;while(e<c){if(!a(b[e],e))d[f++]=b[e];e++;}return B(b)?C(d):d;},FZ=(a,b)=>{const c=A(b),d=[],e=[];let f=0;while(f<c){(a(b[f],f)?d:e).push(b[f]);f++;}return B(b)?[C(d),C(e)]:[d,e];},DK=(a,b)=>{let c=0,d=A(b),e;while(c<d){e=c+d>>>1;if(a>b[e])c=e+1;else d=e;}return c<A(b)&&b[c]===a?c:-1;},GA=(a,b,c=BG(a,b,J))=>L(a,b)?C(c):c,GB=(a,b,c=CI(a,b,J))=>B(b)?C(c):c,GC=(a,b,c)=>{const d=BG(b,c,A(a)>1?AZ(a):X(a));return L(b,c)?C(d):d;},GD=(a,b,c)=>{const d=CI(b,c,A(a)>1?AZ(a):X(a));return B(c)?C(d):d;},GE=(a,b)=>{if(a<=0)return[];const c=B(b),d=A(b),e=Array(Math.ceil(d/a));let f=0,g=0;while(g<d)e[f++]=T(b,g,g=g+a,c);return e;},GF=a=>(a[1]=C(a[1]),a),BW=(a,b,c,d)=>{const e=BP(b,c,BA,d,a);if(B(b)){const f=A(e),g=c?GF:C;let h=0;while(h<f){e[h]=g(e[h]);h++;}}return e;},DL=(a,b,c)=>{const d=A(b),e=A(a),f=Array(d),g=[];let h=0,i=0;while(h<e)f[a[h++]]=!0;h=0;while(h<d){if(f[h]===c)g[i++]=b[h];h++;}return B(b)?C(g):g;},GG=(a,b)=>b<=0?R(a):K(a,0,A(a),B(a)),GH=(a,b)=>b<=0?K(a,0,A(a),B(a)):R(a),BX=a=>A(a)>1?a:(c,d)=>a(c)(d),GI=a=>{const b=A(a),c=b-1,d=Array(b);let e=0;while(e<b){d[c-e]=a[e];e++;}return B(a)?C(d):d;},GJ=a=>{const b=A(a),c=Array(b);let d,e;for(e=0;e<b;e++){d=Math.floor((e+1)*Math.random());if(d!==e)c[e]=c[d];c[d]=a[e];}return B(a)?C(c):c;},GK=a=>{const b=[],c=d=>{const e=A(d);let f=0;while(f<e){if(V(d[f]))c(d[f]);else b.push(d[f]);f++;}};c(a);return b;},GL=a=>{const b=B(a),c=A(a);if(c>30)return[];const d=1<<c,e=Array(d);let f,g,h,i;for(g=0;g<d;g++){f=[];i=0;for(h=0;h<c;h++){if(g&1<<h)f[i++]=a[h];}e[g]=b?C(f):f;}return e;},GM=a=>{const b=AU(i=>A(i)===0,a)?0:A(a);if(b===0)return[];const c=AE(B,a);if(b===2)return BQ(AR,!0,a[0],a[1]);const d=b-1,e=Array(O((i,j)=>i*A(j),1,a)),f=AD(b,0);let g=0,h;while(!0){e[g++]=FM(a,f,b,c);h=d;while(!0){if(++f[h]<A(a[h]))break;f[h]=0;if(--h<0)return e;}}},DM=(a,b)=>{const c=AE(B,a),d=A(a)-1,e=A(a[0])-1,f=d+e,g=Array(f);let h,i,j,k,l;for(h=0;h<=f;h++){k=h<d?h:d;l=h<e?0:h-e;i=Array(k-l+1);j=0;while(k>=l)i[j++]=a[b?k:d-k][h-k--];g[h]=c?C(i):i;}return g;},GN=(a,b)=>{const c=Array(a);let d=-1;while(++d<a)c[d]=b(d);return c;},DN=(a,b,c,d)=>{let e=a[c++];while(c<d){e=b(a[c],e)?a[c]:e;c++;}return e;},DO=(a,b,c,d,e,f)=>{while(e!==d){e=CG(a,b,c,f);if(e>d)c=e;else if(e<d)b=e+1;}return a;},DP=(a,b,c,d)=>{const e=A(a);if(!e)return NaN;if(e===1)return d(a[0]);const f=(e>>>1)-(even(e)?1:0);a=DO(copy(a),0,e-1,f,-1,b);const g=d(DN(a,b,0,f+1));return even(e)?(g+d(DN(a,c,f+1,e)))/2:g;},GO=a=>{const b=A(a);let c=0,d=0;while(d<b){c=c+a[d];d++;}return c;},U=(a,b)=>{const c=A(a);let d=a[0],e=1;while(e<c){d=b(a[e],d)?a[e]:d;e++;}return d;},GP=(a,b,c)=>{const d=A(c);if(!d||a<=0||b>=d-1)return R(c);b=AL(b,d);const e=Array(Math.floor((d-(b+1))/a)+1);let f=0;while(b<d){e[f++]=c[b];b=b+a;}return B(c)?C(e):e;},DQ=(a,b)=>Object.prototype.hasOwnProperty.call(a,b),GQ=(a,b)=>{const c={},d=A(a);let e=0,f;while(e<d){f=a[e];if(DQ(b,f))c[f]=b[f];e++;}return c;},GR=(a,b)=>{const c={},d=keys(b),e=A(d);let f=0,g;while(f<e){g=d[f];if(a(b[g],g))c[g]=b[g];f++;}return c;},DR=(a,b)=>{const c={},d=keys(b),e=A(d);let f=0,g;while(f<e){g=d[f];c[g]=a(b[g],g);f++;}return c;},DS=(a,b,c)=>{const d={},e=V(a),f=keys(a),g=A(f);let h=0,i,j;while(h<g){i=f[h];j=a[i];i=e?Number(i):i;d[j]=DQ(d,j)?c(d[j],i):b(i);h++;}return d;},DT=(a,b)=>{const c=A(b);let d=0;while(d<c){if(a===b[d])return d;d++;}return-1;},GS=(a,b)=>{const c={},d=keys(b),e=A(d);let f=0,g;while(f<e){g=d[f];if(DT(g,a)===-1)c[g]=b[g];f++;}return c;},GT=(a,b,c)=>{const d=A(a),e=Array(d);let f=0;b.push(e);c.push(a);while(f<d){e[f]=BY(a[f],b,c);f++;}b.pop();c.pop();return e;},GU=(a,b,c)=>{const d={},e=keys(a),f=A(e);let g=0,h;b.push(d);c.push(a);while(g<f){h=e[g];d[h]=BY(a[h],b,c);g++;}b.pop();c.pop();return d;},BY=(a,b,c)=>{if(Z(a))return a;const d=BB.call(a);if(d==='[object Date]')return new Date(a.valueOf());b=b||[];c=c||[];const e=DT(a,c);return e!==-1?b[e]:(d==='[object Array]'?GT:GU)(a,b,c);},DU=(a,b)=>{const c=A(a);let d=1;while(d<c){if(b(a[d-1],a[d]))return!1;d++;}return!0;},AV=(a,b,c,d)=>{if(a<=0)return R(b);if(a>=A(b))return c(b);const e=c(take(a)(DO(copy(b),0,A(b)-1,a-1,-1,d)));return B(b)?C(e):e;},AF=a=>A(a)>1?AZ(a):X(a),AW=a=>A(a)>1?DX(a):AY(a);export const VERSION='1.0.0',cp=(...a)=>b=>FJ(a,b),chain=(...a)=>b=>FK(a,b),append=a=>b=>FP(a,b),head=a=>a[0],last=a=>a[A(a)-1],init=a=>K(a,0,S(a)?0:A(a)-1,B(a)),tail=a=>T(a,S(a)?0:1,A(a),B(a)),nul=S,len=A,copy=a=>K(a,0,A(a)),cons=a=>b=>FQ(a,b),consR=a=>b=>FR(a,b),uncons=a=>[head(a),tail(a)],nth=a=>b=>b[a+(a<0?A(b):0)],each=a=>b=>EC(a,b),id=D,flip=a=>b=>c=>a(c)(b),not=a=>!a,iter=a=>b=>c=>FH(a,b,c),until=a=>b=>c=>DG(a,b,c),equal=(a,b)=>F(a,b),eq=a=>b=>F(a,b),equalBy=AH,map=a=>b=>BC(a,b),concat=a=>BD(a,D,O((b,c)=>b+A(c),0,a)),concatMap=a=>b=>BD(b,a,0),reverse=GI,rotate=a=>b=>FS(a,b),intersperse=a=>b=>FT(a,b),group=a=>BW(D,a,!1,CS),count=a=>BP(a,!0,BO,CR,D),section=a=>AQ(a,F,BZ),sectionH=a=>AQ(a,F,CA,!0),sectionBy=a=>b=>AQ(b,A(a)>1?a:AH(a),BZ),sectionHBy=a=>b=>AQ(b,A(a)>1?a:AH(a),CA,!0),splitBy=a=>b=>GE(a,b),shuffle=GJ,flatten=GK,prod=a=>b=>BQ(AR,!0,a,b),diags1=a=>DM(a,!0),diags2=a=>DM(a,!1),subsequences=GL,cartProd=GM,combinations=a=>b=>FU(a,b),combRep=a=>b=>FV(a,b),permutations=a=>DJ(a),permK=a=>b=>DJ(b,a),permRep=a=>b=>cartProd(AD(a,b)),bindL=a=>b=>BD(a,b,0),returnL=BA,guardL=a=>b=>a?b(0):[],liftM2L=a=>b=>c=>BQ(BX(a),!1,b,c),foldM=a=>b=>c=>AT((d,e)=>f=>bindL(a(f,d))(e),BA,c)(b),bindR=a=>b=>c=>b(a(c))(c),returnR=a=>()=>a,liftM2R=a=>b=>c=>d=>BX(a)(b(d),c(d)),divx=a=>b=>c=>[a(c),b(c)],add=(a,b)=>b===undefined?c=>a+c:a+b,sub=(a,b)=>b===undefined?c=>a-c:a-b,mul=(a,b)=>b===undefined?c=>a*c:a*b,div=(a,b)=>b===undefined?c=>a/c:a/b,fact=DI,negate=a=>-a,even=a=>a%2===0,odd=a=>a%2!==0,sq=a=>a*a,sqrt=Math.sqrt,inc=AC,dec=a=>a-1,max=(a,b)=>b>a?b:a,min=(a,b)=>b<a?b:a,random=(a,b)=>a<=b?a+Math.floor((b-a+1)*Math.random()):random(b,a),choice=a=>a[random(0,A(a)-1)],copyO=a=>Object.assign({},a),clone=a=>BY(a),pick=(...a)=>b=>GQ(a,b),pickBy=a=>b=>GR(a,b),mapO=a=>b=>DR(a,b),select=(...a)=>b=>map(pick(...a))(b),invert=a=>DS(a,D,(b,c)=>c),invertAll=a=>DS(a,returnL,CT),extend=a=>b=>Object.assign({},a,b),omit=(...a)=>b=>GS(a,b),foldl=a=>b=>c=>O(a,b,c),foldr=a=>b=>c=>AT(a,b,c),foldl1=a=>b=>O(a,E,b),foldr1=a=>b=>AT(a,E,b),any=a=>b=>AU(a,b),all=a=>b=>AE(a,b),none=a=>b=>!AU(a,b),or=a=>AU(D,a),and=a=>AE(D,a),sum=GO,product=a=>O(mul,1,a),mean=a=>sum(a)/A(a),median=a=>DP(a,J,AJ,D),sumBy=a=>b=>O((c,d)=>c+a(d),0,b),meanBy=a=>b=>sumBy(a)(b)/A(b),medianBy=a=>b=>DP(b,X(a),AY(a),a),maximum=a=>U(a,J),minimum=a=>U(a,AJ),maxLen=a=>A(a)?A(U(a,X(A))):undefined,minLen=a=>A(a)?A(U(a,AY(A))):undefined,uniq=a=>DC(a,D),countElem=a=>b=>FO(a,F,b),countSeq=a=>b=>AA(a,b,0,AC,E),toObj=a=>O((b,c)=>(b[c[0]]=c[1],b),{},a),scanl=a=>b=>c=>DD(a,b,c),scanr=a=>b=>c=>DE(a,b,c),scanl1=a=>b=>DD(a,E,b),scanr1=a=>b=>DE(a,E,b),iterate=a=>b=>c=>FI(a,b,c),untilA=a=>b=>c=>FG(a,b,c),times=a=>b=>GN(a,b),repeat=(a,b)=>B(b)?a<0?'':b.repeat(a):AD(a,b,Z(b)?D:V(b)?copy:copyO),replicate=(a,b)=>AD(a,b,Z(b)?D:clone),cycle=(a,b)=>FW(a,b),from=(a,b,c=1)=>{if(c===0)c=1;const d=B(a);return CD(d?ord(a):a,b,c,d,0);},range=(a,b,c=1)=>{if(c===0)c=1;const d=B(a)&&B(b);if(d){a=ord(a);b=ord(b);}const e=Math.abs(c),f=Math.ceil((Math.abs(b-a)+1)/e);return CD(a,f,a>b?-e:e,d,0);},keys=Object.keys,values=Object.values||(a=>BC(b=>a[b],keys(a))),entries=Object.entries||(a=>BC(b=>[b,a[b]],keys(a))),take=a=>b=>a<=0||a>A(b)?GG(b,a):K(b,0,a,B(b)),drop=a=>b=>a<=0||a>A(b)?GH(b,a):T(b,a,A(b),B(b)),takeLast=a=>b=>drop(A(b)-a)(b),dropLast=a=>b=>take(A(b)-a)(b),takeFrom=a=>b=>c=>b<=0?R(c):T(c,a,AL(a,A(c))+b,B(c)),splitAt=a=>b=>[take(a)(b),drop(a)(b)],takeWhile=a=>b=>BS(take,a,b),dropWhile=a=>b=>BS(drop,a,b),span=a=>b=>BS(splitAt,a,b),takeLastWhile=a=>b=>BT(drop,a,b),dropLastWhile=a=>b=>BT(take,a,b),spanLast=a=>b=>BT(splitAt,a,b),nths=(a,b=0)=>c=>GP(a,b,c),tails=a=>CN(a,0,A(a),1,tail),inits=a=>CN(a,A(a),A(a),-1,init),elem=a=>b=>H(a,b,F),notElem=a=>b=>!H(a,b,F),elemSorted=a=>b=>DK(a,b)!==-1,startsWith=a=>b=>CB(a,b,A(a),0),endsWith=a=>b=>CB(a,b,A(a),A(b)-A(a)),seq=a=>b=>AK(a,b)!==-1,find=a=>b=>CO(a,b),filter=a=>b=>FX(a,b),reject=a=>b=>FY(a,b),findLast=a=>b=>CP(a,b),partition=a=>b=>FZ(a,b),elemIndex=a=>b=>BN(b,a),elemIndices=a=>b=>CQ(DZ,F,[],b,a),elemIndexLast=a=>b=>EX(F,b,a),findIndex=a=>b=>CO(a,b,!0),findIndices=a=>b=>CQ(EA,a,[],b),findIndexLast=a=>b=>CP(a,b,!0),elemIndexSorted=a=>b=>DK(a,b),seqIndex=a=>b=>AK(a,b),seqIndices=a=>b=>AA(a,b,[],EG,E),zip=a=>b=>BR(AR,!0,a,b),zipWith=a=>b=>c=>BR(BX(a),!1,b,c),unzip=a=>A(a)===2?BR(AR,!0,a[0],a[1]):AS(a,A(a)===3?EZ:FA,minLen),transpose=unzip,tpLongest=a=>AS(a,FD,maxLen),rotateL=a=>AS(a,FC,minLen),rotateR=a=>AS(a,FB,minLen),lines=a=>a.split('\n'),words=a=>a.split(' '),chars=AG,split=a=>b=>b.split(a),toLower=a=>a.toLowerCase(),toUpper=a=>a.toUpperCase(),trim=a=>a.trim(),ord=a=>a.charCodeAt(0),unlines=a=>a.join('\n'),unwords=a=>a.join(' '),unchars=C,join=a=>b=>b.join(a),chr=a=>String.fromCharCode(a),upper=a=>Y(a)&&a[0]!==toLower(a[0]),lower=a=>Y(a)&&a[0]!==toUpper(a[0]),alpha=a=>Y(a)&&toUpper(a[0])!==toLower(a[0]),digit=a=>Y(a)&&'0'<=a[0]&&a[0]<='9',space=a=>Y(a)&&(a=ord(a[0]),a===32||a>8&&a<14),alnum=a=>alpha(a)||digit(a),del=a=>b=>L(a,b)?b.replace(a,''):AM(BN(b,a),1,b,!1,E),delAll=a=>b=>CC(a,b,E),deleteSeq=a=>b=>AM(AK(a,b),A(a),b,!0,E),deleteSeqAll=a=>b=>AA(a,b,[],BF),deleteAt=a=>b=>P(a,1,b,!1,E),deleteFrom=a=>b=>c=>P(a,b,c,!0,E),deleteIndices=a=>b=>DL(a,b),keepIndices=a=>b=>DL(a,b,!0),replace=a=>b=>c=>L(a,c)?c.replace(a,b):AM(BN(c,a),1,c,!1,b),replaceAll=a=>b=>c=>CC(a,c,b),replaceSeq=a=>b=>c=>AM(AK(a,c),A(a),c,!0,b),replaceSeqAll=a=>b=>c=>AA(a,c,[],BF,b),replaceAt=a=>b=>c=>P(a,1,c,!1,b),replaceFrom=a=>b=>c=>d=>P(a,b,d,!0,c),insertAt=a=>b=>c=>P(a,0,c,!1,b,J),insertSeqAt=a=>b=>c=>P(a,0,c,!0,b,J),nub=a=>G(I,I,null,a,D),minus=a=>b=>G(CX,CY,a,b,D),deleteAll=a=>b=>G(N,CV,b,a,D),keepAll=a=>b=>G(N,CW,b,a,D),intersect=a=>b=>G(N,CZ,a,b,D),difference=a=>b=>G(N,I,a,b,D),union=a=>b=>G(I,I,b,a,D),nubSorted=a=>{if(S(a))return Q(a);const b=EV(a,[],AP);return B(a)?C(b):b;},minusSorted=a=>b=>BM(a,b,AC,!0),deleteAllSorted=a=>b=>BM(b,a,D,!0),keepAllSorted=a=>b=>BM(b,a,D,!1),intersectSorted=a=>b=>CM(a,b,AC,!1),differenceSorted=a=>b=>CM(a,b,D,!0),unionSorted=a=>b=>EW(a,b),asc=a=>(b,c)=>AI(a(b),a(c)),desc=a=>(b,c)=>DW(a(b),a(c)),cmp=(...a)=>(b,c)=>{const d=A(a);let e=0,f=0;while(e===0&&f<d)e=a[f++](b,c);return e;},sort=a=>CH(a,J),sortDesc=a=>CH(a,AJ),sortBy=a=>b=>CF(b,AF(a)),sortDescBy=a=>b=>CF(b,AW(a)),sortN=a=>b=>AV(a,b,sort,J),sortNDesc=a=>b=>AV(a,b,sortDesc,AJ),sortNBy=a=>b=>c=>AV(a,c,sortBy(b),AF(b)),sortNDescBy=a=>b=>c=>AV(a,c,sortDescBy(b),AW(b)),merge=a=>b=>GA(a,b),insert=a=>b=>GB(a,b),mergeBy=a=>b=>c=>GC(a,b,c),insertBy=a=>b=>c=>GD(a,b,c),maxBy=a=>(b,c)=>AF(a)(c,b)?c:b,minBy=a=>(b,c)=>AW(a)(c,b)?c:b,maximumBy=a=>b=>U(b,AF(a)),minimumBy=a=>b=>U(b,AW(a)),ordered=a=>DU(a,J),orderedBy=a=>b=>DU(b,AF(a)),nubBy=a=>b=>A(a)>1?EU(b,a):G(I,I,null,b,a),minusBy=a=>b=>c=>A(a)>1?EO(b,c,a):G(CX,CY,b,c,a),deleteAllBy=a=>b=>c=>A(a)>1?AO(c,b,EP,a):G(N,CV,c,b,a),keepAllBy=a=>b=>c=>A(a)>1?AO(c,b,EQ,a):G(N,CW,c,b,a),intersectBy=a=>b=>c=>A(a)>1?AO(b,c,ES,a):G(N,CZ,b,c,a),differenceBy=a=>b=>c=>A(a)>1?AO(b,c,ER,a):G(N,I,b,c,a),unionBy=a=>b=>c=>A(a)>1?ET(b,c,a):G(I,I,c,b,a),uniqBy=a=>b=>A(a)>1?EK(b,a):DC(b,a),elemBy=a=>b=>c=>H(b,c,A(a)>1?a:AH(a)),groupBy=a=>b=>A(a)>1?BI(b,EL,EM,a,!0):BW(a,b,!1,CS),countBy=a=>b=>A(a)>1?BI(b,CJ,CK,a):BP(b,!0,BO,CR,a),grouppBy=a=>b=>BW(a,b,!0,EY),groupOBy=a=>b=>CU(b,returnL,CT,a,!0),countOBy=a=>b=>CU(b,BO,inc,a);

//# sourceMappingURL=halib.min.js.map